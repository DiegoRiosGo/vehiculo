"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8989],{8989:(x,h,s)=>{s.r(h),s.d(h,{PagosPageModule:()=>k});var c=s(177),d=s(4341),r=s(849),g=s(8986),t=s(4438),m=s(6210),p=s(2890);function P(n,a){if(1&n&&(t.j41(0,"ion-list",11)(1,"ion-item",12),t.nrm(2,"img",13),t.j41(3,"ion-label",14),t.EFF(4),t.k0s()()()),2&n){const o=t.XpG();t.R7$(2),t.FS9("src",o.climaData.current.condition.icon,t.B4B),t.R7$(2),t.SpI("",o.climaData.current.temp_c,"\xb0C")}}function b(n,a){if(1&n&&(t.j41(0,"ion-item")(1,"ion-label")(2,"h2"),t.EFF(3),t.k0s(),t.j41(4,"p"),t.EFF(5),t.nI1(6,"currency"),t.k0s(),t.j41(7,"p"),t.EFF(8),t.k0s()()()),2&n){const o=a.$implicit;t.R7$(3),t.JRh(o.tipotransaccion),t.R7$(2),t.SpI("Monto: ",t.brH(6,3,o.saldoagregado,"CLP","symbol"),""),t.R7$(3),t.SpI("Fecha: ",o.fechahora,"")}}function f(n,a){if(1&n&&(t.j41(0,"ion-list"),t.DNE(1,b,9,7,"ion-item",15),t.k0s()),2&n){const o=t.XpG();t.R7$(),t.Y8G("ngForOf",o.historialCliente)}}function _(n,a){1&n&&(t.j41(0,"ion-list")(1,"ion-item")(2,"ion-label")(3,"h2"),t.EFF(4,"No hay historial disponible"),t.k0s()()()())}const y=[{path:"",component:(()=>{var n;class a{constructor(i,e,l,u,w){this.location=i,this.db=e,this.router=l,this.aroute=u,this.api=w,this.historialCliente=[],this.enlaceDePago1000="https://www.flow.cl/btn.php?token=27mhkwc",this.enlaceDePago2000="https://www.flow.cl/btn.php?token=g4ms95u",this.enlaceDePago5000="https://www.flow.cl/btn.php?token=occp2yy",this.enlaceDePago10000="https://www.flow.cl/btn.php?token=ed1nk3i"}ngOnInit(){this.aroute.paramMap.subscribe(i=>{var e;const l=null!==(e=i.get("usuarioid"))&&void 0!==e?e:"";this.usuarioid=parseInt(l,10)||0,console.log("Usuarioid en PerfilUsuarioPage:",this.usuarioid),this.usuarioid&&this.db.buscarUsuarioPorId(this.usuarioid).then(u=>{u?console.log("Usuarioid en tengo nombre :D",this.usuarioid):console.log("Usuarioid no tengo nombre :C",this.usuarioid)}).catch(u=>{})})}cargarHistorialCliente2(){this.db.obtenerHistorialClientePorUsuario(this.usuarioid).then(i=>{this.historialCliente=i}).catch(i=>{console.error("Error al cargar historial del cliente:",i)})}cargarHistorialCliente(){this.db.obtenerHistorialClientePorUsuario(this.usuarioid).then(i=>{console.log("Historial de saldos:",i),this.historialCliente=i}).catch(i=>{console.error("Error al obtener historial de saldos:",i)})}obtenerclima(){this.api.getclima().subscribe(i=>{this.climaData=i,console.log("si toy.",this.climaData),console.log("si toy.",this.climaData.current.temp_f)})}ionViewWillEnter(){this.obtenerclima(),this.cargarHistorialCliente()}irAPago1(){this.db.insertarHistorialCliente(this.usuarioid,1e3,"Pago 1000").then(()=>{window.location.href=this.enlaceDePago1000}).catch(i=>{console.error("Error al insertar historial:",i)})}irAPago2(){this.db.insertarHistorialCliente(this.usuarioid,2e3,"Pago 2000").then(()=>{window.location.href=this.enlaceDePago2000}).catch(i=>{console.error("Error al insertar historial 2:",i)})}irAPago3(){this.db.insertarHistorialCliente(this.usuarioid,5e3,"Pago 5000").then(()=>{window.location.href=this.enlaceDePago5000}).catch(i=>{console.error("Error al insertar historial 3:",i)})}irAPago4(){this.db.insertarHistorialCliente(this.usuarioid,1e4,"Pago 10000").then(()=>{window.location.href=this.enlaceDePago10000}).catch(i=>{console.error("Error al insertar historial 4:",i)})}goBack(){this.location.back()}}return(n=a).\u0275fac=function(i){return new(i||n)(t.rXU(c.aZ),t.rXU(m.J),t.rXU(g.Ix),t.rXU(g.nX),t.rXU(p.M))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-pagos"]],decls:21,vars:4,consts:[[1,"content",3,"fullscreen"],[1,"background-gradient"],[1,"center-container"],[1,"profile-card"],[1,"custom-item"],["fill","clear","expand","full","color","success",1,"back-button",3,"click"],["name","arrow-back"],["class","clima-container",4,"ngIf"],[1,"boton-pago",3,"click"],[1,"historial-container"],[4,"ngIf"],[1,"clima-container"],[1,"clima-item"],["slot","start","alt","Clima Icon",1,"clima-icon",3,"src"],["slot","end","color","primary"],[4,"ngFor","ngForOf"]],template:function(i,e){1&i&&(t.j41(0,"ion-content",0),t.nrm(1,"div",1),t.j41(2,"div",2)(3,"ion-card",3)(4,"ion-item",4)(5,"ion-button",5),t.bIt("click",function(){return e.goBack()}),t.nrm(6,"ion-icon",6),t.k0s()(),t.j41(7,"ion-card-header"),t.DNE(8,P,5,2,"ion-list",7),t.k0s(),t.j41(9,"ion-card-content")(10,"ion-button",8),t.bIt("click",function(){return e.irAPago1()}),t.EFF(11,"Pagar 1.000 pesos"),t.k0s(),t.j41(12,"ion-button",8),t.bIt("click",function(){return e.irAPago2()}),t.EFF(13,"Pagar 2.000 pesos"),t.k0s(),t.j41(14,"ion-button",8),t.bIt("click",function(){return e.irAPago3()}),t.EFF(15,"Pagar 5.000 pesos"),t.k0s(),t.j41(16,"ion-button",8),t.bIt("click",function(){return e.irAPago4()}),t.EFF(17,"Pagar 10.000 pesos"),t.k0s(),t.j41(18,"div",9),t.DNE(19,f,2,1,"ion-list",10)(20,_,5,0,"ion-list",10),t.k0s()()()()()),2&i&&(t.Y8G("fullscreen",!0),t.R7$(8),t.Y8G("ngIf",e.climaData),t.R7$(11),t.Y8G("ngIf",e.historialCliente.length>0),t.R7$(),t.Y8G("ngIf",0===e.historialCliente.length))},dependencies:[c.Sq,c.bT,r.Jm,r.b_,r.I9,r.ME,r.W9,r.iq,r.uz,r.he,r.nf,c.oe],styles:['@charset "UTF-8";ion-card.profile-card[_ngcontent-%COMP%]{width:90%;height:65%;margin:auto;text-align:center;background-color:rgba(255,255,255,.9);border-radius:10px;box-shadow:0 4px 6px rgba(0,0,0,.1)}ion-card.profile-card[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:50%;background:linear-gradient(to bottom,#00b894,#0984e3);width:100px;height:100px;margin:0 auto 10px}ion-card.profile-card[_ngcontent-%COMP%]   .profile-email[_ngcontent-%COMP%]{color:rgba(0,0,0,.6)}.background-gradient[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(to bottom,#00b894,#0984e3);z-index:-1}.center-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}ion-button[_ngcontent-%COMP%]{margin-top:10px}ion-list.clima-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;height:40px;border-radius:10px}ion-item.clima-item[_ngcontent-%COMP%]{display:flex;align-items:center}ion-label[_ngcontent-%COMP%]{display:flex;align-items:center}img.clima-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:10px}.custom-button[_ngcontent-%COMP%]{white-space:normal;text-align:center;font-size:16px;padding:12px;border-radius:10px}.login-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:10px}.login-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{white-space:normal;width:90%;margin-top:10px;border-radius:10px;font-size:10px}.historial-container[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto}']}),a})()}];let C=(()=>{var n;class a{}return(n=a).\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[g.iI.forChild(y),g.iI]}),a})(),k=(()=>{var n;class a{}return(n=a).\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[c.MD,d.YN,r.bv,C]}),a})()}}]);