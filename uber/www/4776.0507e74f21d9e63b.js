"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4776],{4776:(A,l,r)=>{r.r(l),r.d(l,{PagosPageModule:()=>w});var c=r(6814),p=r(95),s=r(9004),g=r(3044),u=r(5861),o=r(6689),P=r(9862);let f=(()=>{var e;class n{constructor(t){this.http=t,this.apiKey="5737EF2A-C228-4AA7-AAAE-8F69FC86LF19",this.apiSecret="66e3eaf21090fceff589659881baa31bbd05d36a",this.flowBaseUrl="https://www.flow.cl/api"}makePayment(t){return this.http.post(`${this.flowBaseUrl}/payment/create`,t,{headers:{"Content-Type":"application/json",Authorization:`Basic ${btoa(`${this.apiKey}:${this.apiSecret}`)}`}})}obtenerPagosRecibidos(){return this.http.get("http://localhost:3000/pagos-recibidos").toPromise()}}return(e=n).\u0275fac=function(t){return new(t||e)(o.LFG(P.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function d(e,n){if(1&e&&(o.TgZ(0,"ion-item")(1,"ion-label"),o._uU(2),o.qZA(),o.TgZ(3,"ion-label"),o._uU(4),o.qZA()()),2&e){const a=n.$implicit;o.xp6(2),o.Oqu(a.nombre),o.xp6(2),o.Oqu(a.monto)}}function m(e,n){if(1&e&&(o.TgZ(0,"ion-list"),o.YNc(1,d,5,2,"ion-item",3),o.qZA()),2&e){const a=o.oxw();o.xp6(1),o.Q6J("ngForOf",a.pagosRecibidos)}}function h(e,n){1&e&&o._UZ(0,"ion-spinner")}function y(e,n){1&e&&(o.TgZ(0,"ion-text",4),o._uU(1," No se encontraron pagos recibidos. "),o.qZA())}const b=[{path:"",component:(()=>{var e;class n{constructor(t){this.flowService=t,this.enlaceDePago="https://www.flow.cl/btn.php?token=27mhkwc"}irAPago(){window.location.href=this.enlaceDePago}ngOnInit(){this.obtenerPagosRecibidos()}obtenerPagosRecibidos(){var t=this;return(0,u.Z)(function*(){try{const i=yield t.flowService.obtenerPagosRecibidos();t.pagosRecibidos=i.data}catch(i){console.error("Error al obtener los pagos recibidos:",i)}})()}}return(e=n).\u0275fac=function(t){return new(t||e)(o.Y36(f))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-pagos"]],decls:10,vars:3,consts:[[1,"boton-pago",3,"click"],[4,"ngIf"],["color","warning",4,"ngIf"],[4,"ngFor","ngForOf"],["color","warning"]],template:function(t,i){1&t&&(o.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o._uU(3,"pagos"),o.qZA()()(),o.TgZ(4,"ion-content")(5,"button",0),o.NdJ("click",function(){return i.irAPago()}),o._uU(6,"Pagar Ahora"),o.qZA(),o.YNc(7,m,2,1,"ion-list",1),o.YNc(8,h,1,0,"ion-spinner",1),o.YNc(9,y,2,0,"ion-text",2),o.qZA()),2&t&&(o.xp6(7),o.Q6J("ngIf",i.pagosRecibidos&&i.pagosRecibidos.length>0),o.xp6(1),o.Q6J("ngIf",!i.pagosRecibidos),o.xp6(1),o.Q6J("ngIf",i.pagosRecibidos&&0===i.pagosRecibidos.length))},dependencies:[c.sg,c.O5,s.W2,s.Gu,s.Ie,s.Q$,s.q_,s.PQ,s.yW,s.wd,s.sr]}),n})()}];let v=(()=>{var e;class n{}return(e=n).\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[g.Bz.forChild(b),g.Bz]}),n})(),w=(()=>{var e;class n{}return(e=n).\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[c.ez,p.u5,s.Pc,v]}),n})()}}]);