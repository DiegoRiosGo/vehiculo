"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[381],{381:(j,m,n)=>{n.r(m),n.d(m,{PerfiluserPageModule:()=>M});var g=n(177),f=n(4341),o=n(849),u=n(8986),d=n(467),e=n(4438),p=n(9348),h=n(2890),P=n(6210);const b=()=>["/logout"];function v(t,a){if(1&t&&(e.j41(0,"ion-list",18)(1,"ion-item",19),e.nrm(2,"img",20),e.j41(3,"ion-label",21),e.EFF(4),e.k0s()()()),2&t){const s=e.XpG();e.R7$(2),e.FS9("src",s.climaData.current.condition.icon,e.B4B),e.R7$(2),e.SpI("",s.climaData.current.temp_c,"\xb0C")}}const y=[{path:"",component:(()=>{var t;class a{constructor(i,r,l,c,k,C){this.router=i,this.aroute=r,this.alertController=l,this.api=c,this.cdr=k,this.db=C,this.saldoActual=0}ngOnInit(){this.nombreUsuario="nombre random",this.correoUsuario="correo random",this.aroute.paramMap.subscribe(i=>{var r;const l=null!==(r=i.get("usuarioid"))&&void 0!==r?r:"";this.usuarioid=parseInt(l,10)||0,console.log("Usuarioid en PerfilUsuarioPage:",this.usuarioid),this.usuarioid&&this.db.buscarUsuarioPorId(this.usuarioid).then(c=>{c&&(this.nombreUsuario=c.nombre,this.correoUsuario=c.correo)}).catch(c=>{})})}logout(){var i=this;return(0,d.A)(function*(){yield(yield i.alertController.create({header:"Cerrar sesi\xf3n",message:"\xbfEst\xe1s seguro de que quieres cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:l=>{}},{text:"S\xed",handler:()=>{i.router.navigate(["/home"])}}]})).present()})()}editProfile(){console.log("ID de Usuario P user:",this.usuarioid),this.router.navigate(["/moduser",this.usuarioid]),console.log("si toy.")}obtenerclima(){this.api.getclima().subscribe(i=>{this.climaData=i,console.log("si toy.",this.climaData),console.log("si toy.",this.climaData.current.temp_f)})}ionViewWillEnter(){this.obtenerclima(),this.obtenerSaldo()}obtenerSaldo(){this.db.obtenerSaldoActual(this.usuarioid).then(i=>{this.saldoActual=i}).catch(i=>{console.error("Error al obtener el saldo:",i)})}pedirviaje(){var i=this;return(0,d.A)(function*(){i.router.navigate(["/mapa",i.usuarioid])})()}mostrarHistorialViajes(){var i=this;return(0,d.A)(function*(){i.router.navigate(["/historialcliente",i.usuarioid])})()}agregarsaldo(){var i=this;return(0,d.A)(function*(){i.router.navigate(["/pagos",i.usuarioid])})()}}return(t=a).\u0275fac=function(i){return new(i||t)(e.rXU(u.Ix),e.rXU(u.nX),e.rXU(p.hG),e.rXU(h.M),e.rXU(e.gRc),e.rXU(P.J))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-perfiluser"]],decls:28,vars:11,consts:[[1,"content",3,"fullscreen"],[1,"background-gradient"],[1,"center-container"],[1,"profile-card"],[1,"custom-item"],["name","settings","slot","start","color","primary",1,"settings-icon",3,"click"],["slot","end","color","primary",1,"saldo-label"],["name","log-out","slot","end","color","primary",1,"logout-icon",3,"click","routerLink"],["class","clima-container",4,"ngIf"],[1,"profile-image-container"],[1,"profile-image"],["src","assets/profile-image.jpg"],[1,"profile-name"],[1,"profile-email"],[1,"login-buttons"],["expand","full","color","primary",3,"click"],["id","historialButton","expand","full","color","success",3,"click"],["id","agregasaldo","expand","full","color","success",3,"click"],[1,"clima-container"],[1,"clima-item"],["slot","start","alt","Clima Icon",1,"clima-icon",3,"src"],["slot","end","color","primary"]],template:function(i,r){1&i&&(e.j41(0,"ion-content",0),e.nrm(1,"div",1),e.j41(2,"div",2)(3,"ion-card",3)(4,"ion-item",4)(5,"ion-icon",5),e.bIt("click",function(){return r.editProfile()}),e.EFF(6,"Edit Perfil"),e.k0s(),e.j41(7,"ion-label",6),e.EFF(8),e.nI1(9,"currency"),e.k0s(),e.j41(10,"ion-icon",7),e.bIt("click",function(){return r.logout()}),e.k0s()(),e.j41(11,"ion-card-header"),e.DNE(12,v,5,2,"ion-list",8),e.k0s(),e.j41(13,"ion-card-content")(14,"div",9)(15,"div",10),e.nrm(16,"ion-img",11),e.k0s()(),e.j41(17,"div",12),e.EFF(18),e.k0s(),e.j41(19,"div",13),e.EFF(20),e.k0s(),e.j41(21,"div",14)(22,"ion-button",15),e.bIt("click",function(){return r.pedirviaje()}),e.EFF(23,"Solicitar Viaje"),e.k0s()(),e.j41(24,"ion-button",16),e.bIt("click",function(){return r.mostrarHistorialViajes()}),e.EFF(25," Historial "),e.k0s(),e.j41(26,"ion-button",17),e.bIt("click",function(){return r.agregarsaldo()}),e.EFF(27," Agrega Saldo "),e.k0s()()()()()),2&i&&(e.Y8G("fullscreen",!0),e.R7$(8),e.SpI("Saldo: ",e.brH(9,6,r.saldoActual,"USD","symbol"),""),e.R7$(2),e.Y8G("routerLink",e.lJ4(10,b)),e.R7$(2),e.Y8G("ngIf",r.climaData),e.R7$(6),e.JRh(r.nombreUsuario),e.R7$(2),e.JRh(r.correoUsuario))},dependencies:[g.bT,o.Jm,o.b_,o.I9,o.ME,o.W9,o.iq,o.KW,o.uz,o.he,o.nf,o.N7,u.Wk,g.oe],styles:['@charset "UTF-8";ion-card.profile-card[_ngcontent-%COMP%]{width:90%;height:65%;margin:auto;text-align:center;background-color:rgba(255,255,255,.9);border-radius:10px;box-shadow:0 4px 6px rgba(0,0,0,.1)}ion-card.profile-card[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:50%;background:linear-gradient(to bottom,#00b894,#0984e3);width:100px;height:100px;margin:0 auto 10px}ion-card.profile-card[_ngcontent-%COMP%]   .profile-email[_ngcontent-%COMP%]{color:rgba(0,0,0,.6)}.background-gradient[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(to bottom,#00b894,#0984e3);z-index:-1}.center-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}ion-button[_ngcontent-%COMP%]{margin-top:10px}ion-list.clima-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;height:40px;border-radius:10px}ion-item.clima-item[_ngcontent-%COMP%]{display:flex;align-items:center}ion-label[_ngcontent-%COMP%]{display:flex;align-items:center}img.clima-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:10px}.custom-button[_ngcontent-%COMP%]{white-space:normal;text-align:center;font-size:16px;padding:12px;border-radius:10px}.login-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:10px}.login-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{white-space:normal;width:90%;margin-top:10px;border-radius:10px;font-size:10px}']}),a})()}];let x=(()=>{var t;class a{}return(t=a).\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[u.iI.forChild(y),u.iI]}),a})(),M=(()=>{var t;class a{}return(t=a).\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[g.MD,f.YN,o.bv,x]}),a})()}}]);