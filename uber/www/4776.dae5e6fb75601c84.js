"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4776],{4776:(A,l,r)=>{r.r(l),r.d(l,{PagosPageModule:()=>v});var c=r(6814),u=r(95),s=r(9004),g=r(3044),f=r(5861),o=r(6689),p=r(9862);let P=(()=>{var e;class n{constructor(t){this.http=t,this.apiKey="5737EF2A-C228-4AA7-AAAE-8F69FC86LF19",this.apiSecret="66e3eaf21090fceff589659881baa31bbd05d36a",this.flowBaseUrl="https://www.flow.cl/api"}makePayment(t){return this.http.post(`${this.flowBaseUrl}/payment/create`,t,{headers:{"Content-Type":"application/json",Authorization:`Basic ${btoa(`${this.apiKey}:${this.apiSecret}`)}`}})}obtenerPagosRecibidos(){const a=new p.WM({Authorization:"Bearer 66e3eaf21090fceff589659881baa31bbd05d36a"});return this.http.get("https://www.flow.cl/api/payment/getPayments",{headers:a}).toPromise()}}return(e=n).\u0275fac=function(t){return new(t||e)(o.LFG(p.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function d(e,n){if(1&e&&(o.TgZ(0,"ion-item")(1,"ion-label"),o._uU(2),o.qZA(),o.TgZ(3,"ion-label"),o._uU(4),o.qZA()()),2&e){const i=n.$implicit;o.xp6(2),o.Oqu(i.nombre),o.xp6(2),o.Oqu(i.monto)}}function m(e,n){if(1&e&&(o.TgZ(0,"ion-list"),o.YNc(1,d,5,2,"ion-item",3),o.qZA()),2&e){const i=o.oxw();o.xp6(1),o.Q6J("ngForOf",i.pagosRecibidos)}}function h(e,n){1&e&&o._UZ(0,"ion-spinner")}function y(e,n){1&e&&(o.TgZ(0,"ion-text",4),o._uU(1," No se encontraron pagos recibidos. "),o.qZA())}const b=[{path:"",component:(()=>{var e;class n{constructor(t){this.flowService=t,this.enlaceDePago="https://www.flow.cl/btn.php?token=27mhkwc"}irAPago(){window.location.href=this.enlaceDePago}ngOnInit(){this.obtenerPagosRecibidos()}obtenerPagosRecibidos(){var t=this;return(0,f.Z)(function*(){try{const a=yield t.flowService.obtenerPagosRecibidos();t.pagosRecibidos=a.data}catch(a){console.error("Error al obtener los pagos recibidos:",a)}})()}}return(e=n).\u0275fac=function(t){return new(t||e)(o.Y36(P))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-pagos"]],decls:10,vars:3,consts:[[1,"boton-pago",3,"click"],[4,"ngIf"],["color","warning",4,"ngIf"],[4,"ngFor","ngForOf"],["color","warning"]],template:function(t,a){1&t&&(o.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o._uU(3,"pagos"),o.qZA()()(),o.TgZ(4,"ion-content")(5,"button",0),o.NdJ("click",function(){return a.irAPago()}),o._uU(6,"Pagar Ahora"),o.qZA(),o.YNc(7,m,2,1,"ion-list",1),o.YNc(8,h,1,0,"ion-spinner",1),o.YNc(9,y,2,0,"ion-text",2),o.qZA()),2&t&&(o.xp6(7),o.Q6J("ngIf",a.pagosRecibidos&&a.pagosRecibidos.length>0),o.xp6(1),o.Q6J("ngIf",!a.pagosRecibidos),o.xp6(1),o.Q6J("ngIf",a.pagosRecibidos&&0===a.pagosRecibidos.length))},dependencies:[c.sg,c.O5,s.W2,s.Gu,s.Ie,s.Q$,s.q_,s.PQ,s.yW,s.wd,s.sr]}),n})()}];let w=(()=>{var e;class n{}return(e=n).\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[g.Bz.forChild(b),g.Bz]}),n})(),v=(()=>{var e;class n{}return(e=n).\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[c.ez,u.u5,s.Pc,w]}),n})()}}]);