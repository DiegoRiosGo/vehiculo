"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4956],{4956:(F,u,r)=>{r.r(u),r.d(u,{HomePageModule:()=>x});var m=r(177),t=r(849),d=r(4341),l=r(8986),o=r(4438),p=r(6210),h=r(9348),C=r(7036);const f=()=>["/ask-email"],M=()=>["/registro"];function P(e,i){if(1&e&&(o.j41(0,"div",15),o.EFF(1),o.k0s()),2&e){const c=i.$implicit;o.R7$(),o.SpI(" ",c," ")}}const v=[{path:"",component:(()=>{var e;class i{constructor(n,a,g,s){this.db=n,this.router=a,this.alertController=g,this.valCorr=s,this.correoElectronico="",this.contrasena="",this.mensajes=[]}iniciarSesion(){this.mensajes=[],this.correoElectronico&&this.contrasena?this.validarFormatoCorreo(this.correoElectronico)?this.db.loginUsuario(this.correoElectronico,this.contrasena).then(n=>{n?(console.log("ID de Usuario IS:",n.usuarioid),1===n.rolid?(console.log("Usuario es un administrador."),this.router.navigate(["/adminvista",n.usuarioid])):2===n.rolid?(console.log("Usuario es un cliente."),this.router.navigate(["/perfiluser",n.usuarioid])):3===n.rolid?(console.log("Usuario es un conductor."),this.router.navigate(["/perfilconductor",n.usuarioid])):console.error("Rol no manejado:",n.rolid)):this.mensajes.push("Correo o contrase\xf1a incorrectos")}).catch(n=>{this.mensajes.push("Error al iniciar sesi\xf3n:",n)}):this.mensajes.push("Formato de correo electr\xf3nico no v\xe1lido."):this.mensajes.push("Por favor, proporciona correo electr\xf3nico y contrase\xf1a.")}validarFormatoCorreo(n){return this.valCorr.validaremail(n)}}return(e=i).\u0275fac=function(n){return new(n||e)(o.rXU(p.J),o.rXU(l.Ix),o.rXU(h.hG),o.rXU(C.v))},e.\u0275cmp=o.VBU({type:e,selectors:[["app-home"]],decls:27,vars:8,consts:[[1,"content",3,"fullscreen"],[1,"background-gradient"],[1,"center-container"],[1,"login-card"],[1,"logoCont"],["src","assets/img/logo-1240x1240.png","alt","Logo de la App",1,"logo"],[1,"custom-item"],["position","floating","color","primary"],["type","email",3,"ngModelChange","ngModel"],["type","password",3,"ngModelChange","ngModel"],["color","primary",1,"recovery-link",3,"routerLink"],["class","mensaje-error",4,"ngFor","ngForOf"],[1,"login-buttons"],["expand","full","color","primary",3,"click"],["expand","full","color","success",3,"routerLink"],[1,"mensaje-error"]],template:function(n,a){1&n&&(o.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"ion-card",3)(4,"ion-card-content")(5,"div",4),o.nrm(6,"img",5),o.k0s(),o.j41(7,"h2"),o.EFF(8,"Iniciar sesi\xf3n"),o.k0s(),o.j41(9,"ion-item",6)(10,"ion-label",7),o.EFF(11,"Correo electr\xf3nico"),o.k0s(),o.j41(12,"ion-input",8),o.mxI("ngModelChange",function(s){return o.DH7(a.correoElectronico,s)||(a.correoElectronico=s),s}),o.k0s()(),o.j41(13,"ion-item",6)(14,"ion-label",7),o.EFF(15,"Contrase\xf1a"),o.k0s(),o.j41(16,"ion-input",9),o.mxI("ngModelChange",function(s){return o.DH7(a.contrasena,s)||(a.contrasena=s),s}),o.k0s()(),o.j41(17,"ion-text",10),o.EFF(18," \xbfOlvidaste tu contrase\xf1a? "),o.k0s(),o.DNE(19,P,2,1,"div",11),o.j41(20,"div",12)(21,"ion-button",13),o.bIt("click",function(){return a.iniciarSesion()}),o.EFF(22,"Iniciar Sesi\xf3n"),o.k0s(),o.j41(23,"ion-button",14),o.EFF(24,"Registrarse"),o.k0s(),o.nrm(25,"br"),o.k0s(),o.nrm(26,"br"),o.k0s()()()()()),2&n&&(o.Y8G("fullscreen",!0),o.R7$(12),o.R50("ngModel",a.correoElectronico),o.R7$(4),o.R50("ngModel",a.contrasena),o.R7$(),o.Y8G("routerLink",o.lJ4(6,f)),o.R7$(2),o.Y8G("ngForOf",a.mensajes),o.R7$(4),o.Y8G("routerLink",o.lJ4(7,M)))},dependencies:[m.Sq,d.BC,d.vS,t.Jm,t.b_,t.I9,t.W9,t.$w,t.uz,t.he,t.IO,t.Gw,t.N7,l.Wk],styles:["ion-card.login-card[_ngcontent-%COMP%]{width:90%;height:95%;margin:auto;text-align:center;background-color:rgba(255,255,255,.9);border-radius:10px;box-shadow:0 4px 6px rgba(0,0,0,.1)}ion-card.login-card[_ngcontent-%COMP%]   .custom-item-head[_ngcontent-%COMP%]{width:90%;margin:20px auto auto;background-color:rgba(255,255,255,.9);border-radius:10px;box-shadow:0 4px 6px rgba(255,255,255,.1)}ion-card.login-card[_ngcontent-%COMP%]   .custom-item[_ngcontent-%COMP%]{width:90%;margin:20px auto auto;background-color:rgba(255,255,255,.9);border-radius:10px;box-shadow:0 4px 6px rgba(255,255,255,.1)}ion-card.login-card[_ngcontent-%COMP%]   .custom-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:14px}ion-card.login-card[_ngcontent-%COMP%]   .custom-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:12px}ion-card.login-card[_ngcontent-%COMP%]   .logoCont[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:10px}ion-card.login-card[_ngcontent-%COMP%]   .logoCont[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{max-width:60%;margin:5px auto}.background-gradient[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(to bottom,#00b894,#0984e3);z-index:-1}.center-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.login-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:10px}.login-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:90%;margin-top:10px;border-radius:10px;font-size:10px}.recovery-link[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}.mensaje-error[_ngcontent-%COMP%]{color:red;margin-top:10px}"]}),i})()}];let b=(()=>{var e;class i{}return(e=i).\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[l.iI.forChild(v),l.iI]}),i})(),x=(()=>{var e;class i{}return(e=i).\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[m.MD,d.YN,t.bv,b]}),i})()}}]);